/*! { "name": "vissense-plugin-percentage-time-test", "version": "0.1.4", "copyright": "(c) 2014 tbk" } */!function(a,b){"use strict";if("function"==typeof define&&define.amd){var c=require("vissense");b(a,c)}else"object"==typeof exports?b(a,a.VisSense):b(a,a.VisSense)}(this,function(a,b,c){"use strict";b.fn.onPercentageTimeTestPassed=function(a,d,e,f){var g=0,h=null,i=f>=100?f:f===c?1e3:100,j=null,k=null,l=this.monitor({strategy:new b.VisMon.Strategy.EventStrategy({debounce:30}),visible:function(){j=j||l.visobj().monitor({update:function(){var c=j.state().percentage;if(a>c)h=null;else{var f=b.Utils.now();h=h||f,g=f-h}g>=d?(clearTimeout(k),l.stop(),e()):k=setTimeout(function(){j.update()},i)}}),j.start()},hidden:function(){clearTimeout(k)}});l.start()},b.fn.on50_1TestPassed=function(a){this.onPercentageTimeTestPassed(.5,1e3,a,100)}});