/*! { "name": "vissense-plugin-percentage-time-test", "version": "0.2.1", "copyright": "(c) 2015 tbk" } */!function(a,b){"use strict";b(a,a.VisSense)}(this,function(a,b,c){"use strict";b.fn.onPercentageTimeTestPassed=function(a,d){var e=b.Utils.defaults(d,{percentageLimit:1,timeLimit:1e3,interval:100,debounce:30,strategy:c}),f=0,g=null,h=null,i=null,j=this.monitor({strategy:e.strategy,visible:function(){h=h||j.visobj().monitor({strategy:[],update:function(){var c=h.state().percentage;if(c<e.percentageLimit)g=null;else{var d=b.Utils.now();g=g||d,f=d-g}f>=e.timeLimit?(clearTimeout(i),j.stop(),a()):i=setTimeout(function(){h.update()},e.interval)}}),h.update()},hidden:function(){clearTimeout(i)}});j.start()},b.fn.on50_1TestPassed=function(a,c){this.onPercentageTimeTestPassed(a,b.Utils.extend(c||{},{percentageLimit:.5,timeLimit:1e3,debounce:30,interval:100}))}});